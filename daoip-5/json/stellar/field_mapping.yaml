
# Field Mapping Configuration for Stellar
system_name: "Stellar Development Foundation"
system_type: "Foundation"

# Schema standardization
schema_fixes:
  root_level:
    - from: "grant_pools"
      to: "grantPools"
      status: "fixed"
  
# Data quality standards
data_quality:
  date_format: "ISO8601"
  required_fields:
    - "projectName"
    - "projectId" 
    - "grantPoolId"
    - "createdAt"
  
  null_handling:
    fundsApproved:
      amount: "number|null"
      denomination: "string"
    fundsAsked:
      amount: "number"
      denomination: "string"
    fundsPaid:
      amount: "number|null"
      denomination: "string"

# DAOIP-5 Extension Fields Mapping
extension_fields:
  core_enhancements:
    - field: "title"
      source: "Submission Title"
      type: "string"
    - field: "description"
      source: "One-Sentence-Description"
      type: "string"
    - field: "status"
      source: "Status"
      type: "string"
    - field: "category"
      source: "Category (from Project)"
      type: "string"
    - field: "awardType"
      source: "Award Type"
      type: "string"
    - field: "completionPercentage"
      source: "Tranche Completion %"
      type: "number"
    - field: "mostRecentPaymentDate"
      source: "Most Recent Payment Date"
      type: "date"
    - field: "latestTranche"
      source: "Latest Tranche (from Payments)"
      type: "string"

  funding_enhancements:
    - field: "fundsPaid"
      sources: ["Total Paid (USD)", "Total Paid (XLM)"]
      type: "funding_array"

  stellar_extension_fields:
    # DAOIP-5 Extensions Field - Stellar ecosystem-specific data using dot notation namespacing
    - field: "extensions.stellar.technicalArchitecture"
      source: "Technical Architecture"
      type: "string"
    - field: "extensions.stellar.productsAndServices"
      source: "Products & Services"
      type: "string"
    - field: "extensions.stellar.usesSoroban"
      source: "Use Soroban?"
      type: "boolean"
    - field: "extensions.stellar.successCriteria"
      source: "Success Criteria"
      type: "string"
    - field: "extensions.stellar.goToMarketPlan"
      source: "Go-To-Market Plan"
      type: "string"
    - field: "extensions.stellar.tractionEvidence"
      source: "Traction Evidence"
      type: "string"
    - field: "extensions.stellar.tranche1Deliverables"
      source: "Tranche 1 - Deliverables"
      type: "string"
    - field: "extensions.stellar.tranche2Testnet"
      source: "Tranche 2 - Testnet"
      type: "string"
    - field: "extensions.stellar.tranche3Mainnet"
      source: "Tranche 3 - Mainnet"
      type: "string"
    - field: "extensions.stellar.teamMembers"
      source: "Team Members"
      type: "string"
    
  stellar_urls_group:
    # Grouped URL extensions under stellar.urls namespace
    - field: "extensions.stellar.urls.website"
      source: "Website"
      type: "url"
    - field: "extensions.stellar.urls.codeRepository"
      source: "Code"
      type: "url"
    - field: "extensions.stellar.urls.videoURL"
      source: "Video"
      type: "url"
    - field: "extensions.stellar.urls.pitchDeck"
      source: "Pitch Deck (from Project)"
      type: "url"
      
  stellar_social_group:
    # Grouped social media extensions under stellar.socialMedia namespace
    - field: "extensions.stellar.socialMedia.linkedIn"
      source: "LinkedIn (from Project)"
      type: "url"
    - field: "extensions.stellar.socialMedia.twitter"
      source: "X (from Project)"
      type: "url"
    - field: "extensions.stellar.socialMedia.discord"
      source: "Discord (from Project)"
      type: "url"

# Known issues and fixes needed
issues:
  critical: []
  data_quality: []
  
# Validation rules
validation:
  date_fields: ["createdAt", "closeDate", "mostRecentPaymentDate"]
  url_fields: ["projectsURI", "contentURI", "applicationsURI", "extensions.stellar.urls.website", "extensions.stellar.urls.codeRepository", "extensions.stellar.urls.videoURL", "extensions.stellar.urls.pitchDeck", "extensions.stellar.socialMedia.linkedIn", "extensions.stellar.socialMedia.twitter", "extensions.stellar.socialMedia.discord"]
  required_not_null: ["projectName", "grantPoolId"]
  no_placeholder_values: ["Unknown", "not available", "N/A", "TBD"]
  boolean_fields: ["extensions.stellar.usesSoroban"]
  percentage_fields: ["completionPercentage"]
  extension_fields: ["extensions.stellar.*"]  # DAOIP-5 extension validation
